<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividad Formativa sobre formularios</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<!-- Cliente full bootstrap -->
<body>

    <!-- una columna que ocupa todo el ancho de la pantalla con un margen de 5-->
    <div class="col-sm-12 text-center my-5">
        <h1 class="h1">Formulario de registro para eventos</h1>
    </div>

    <!-- Formulario dirigido a procesar.php con el método post. Se hace uso de la validación 
     de bootstrap para ello.
     Fuente: https://www.youtube.com/watch?v=hcno1fusrR8 -->
    <form action="php/procesar.php" method="POST" class="container needs-validation my-5" novalidate>

        <!-- organización con un grid consistente en 2 filas con 2 columnas y una tercera fila al final con el boton de enviar.-->
        <div class="row gap-3 mb-3">
            <!-- Sección para Datos Personales -->
            <fieldset class="col-sm border rounded p-3 ">
                <h4>Datos Personales</h4>

                <div class="form-floating mb-3 mt-3">
                    <!--Campo del nombre -->
                    <input class="form-control" type="text" id="nombre-completo" name="nombre-completo"
                        placeholder="Tu nombre" required>
                    <label for="nombre-completo">Nombre y apellidos</label>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>

                <div class="form-floating mb-3 mt-3">
                    <!--Campo del email -->
                    <input class="form-control" type="email" id="email" name="email" placeholder="email" required>
                    <label for="email">Correo electrónico</label>
                    <!-- uso de invalid feedback: Se muestra el div si el campo no está completo.-->
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>

                <!--Campo del teléfono -->
                <div class="form-floating mb-3 mt-3">
                    <input class="form-control" type="tel" id="tel" name="tel" placeholder="Teléfono">
                    <label for="tel">Teléfono</label>
                </div>

                <!-- campo fecha de nacimiento-->
                <div class="mb-3">
                    <label for="fecha-nac">Fecha de nacimiento:</label><br>
                    <input class="form-control" type="date" id="fecha-nac" name="fecha-nac"><br>
                </div>

                <!-- radio button para selección de género-->
                <div class="btn-group mb-3">
                    <label class="form-check-label" for="genero">Género:</label><br>
                    <div>
                        <input class="form-check-input" type="radio" id="genero-masc" name="genero" value="masculino" />
                        <label class="form-check-label" for="genero-masc">Masculino</label>
                    </div>
                    <div>
                        <input class="form-check-input" type="radio" id="genero-fem" name="genero" value="femenino" />
                        <label class="form-check-label" for="genero-fem">Femenino</label>
                    </div>
                </div>
            </fieldset>

            <!-- Sección para Información del Evento -->
            <fieldset class="col-sm border rounded p-3 ">
                <h4>Información del Evento:</h4>
                <div class="mb-3">
                    <label for="fecha-evento">Fecha del evento:</label><br>
                    <input class="form-control" type="date" id="fecha-evento" name="fecha-evento" required><br>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
                <div class="mb-3">
                    <label for="tipo-entrada">Tipo de entrada:</label><br>
                    <select class="form-select" name="tipo-entrada" id="tipo-entrada" required>
                        <option value="general">General</option>
                        <option value="vip">VIP</option>
                        <option value="estudiante">Estudiante</option>
                    </select>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-check-label" for="preferencias-comida">Preferencias de comida:</label><br>
                    <input class="form-check-input" type="checkbox" name="pref1-vegetariano" id="pref1-vegetariano"
                        value="vegetariano">
                    <label class="form-check-label" for="pref1-vegetariano">Vegetariano</label><br>
                    <input class="form-check-input" type="checkbox" name="pref2-vegano" id="pref2-vegano"
                        value="vegano">
                    <label class="form-check-label" for="pref2-vegano">Vegano</label><br>
                    <input class="form-check-input" type="checkbox" name="pref3-sin-gluten" id="pref3-sin-gluten"
                        value="sin-gluten">
                    <label class="form-check-label" for="pref3-sin-gluten">Sin gluten</label><br>
                    <input class="form-check-input" type="checkbox" name="pref4-sin-preferencias"
                        id="pref4-sin-preferencias" value="sin-preferencias">
                    <label class="form-check-label" for="pref4-sin-preferencias">Sin preferencias</label>
                </div>
            </fieldset>
        </div>

        <!-- Sección para Información de acceso -->
        <div class="row gap-3 mb-3">
            <fieldset class="col-sm border rounded p-3">
                <h4>Información de acceso</h4>
                <div class="div-contrasenia  form-floating mb-3 mt-3">
                    <input class="form-control" type="text" id="usuario" name="usuario" placeholder="Nombre de usuario"
                        required>
                    <label for="usuario">Nombre de Usuario</label>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
                <div class="form-floating mb-3 mt-3">
                    <input class="form-control" type="password" id="contrasenia" name="contrasenia" required
                        placeholder="Contraseña">
                    <label for="contrasenia">Contraseña</label>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
                <div class="div-contrasenia form-floating mb-3 mt-3">
                    <input class="form-control" type="password" id="contrasenia-confirm" name="contrasenia-confirm"
                        required placeholder="Confirmar contraseña">
                    <label for="contrasenia-confirm">Confirmar contraseña</label>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
            </fieldset>

            <!-- Sección para Encuesta adicional -->
            <fieldset class="col-sm border rounded p-3">
                <h4>Encuesta adicional</h4>
                <div class="mb-3">
                    <label for="calificacion">Valore su experiencia en eventos anteriores:</label><br>
                    <input class="form-range" type="range" name="calificacion" id="calificacion" min="0" max="10"><br>

                    <label for="opinion-personal">Opinión personal</label><br>
                    <textarea class="form-control" name="opinion-personal" id="opinion-personal"
                        style="height: 100px"></textarea><br>
                </div>
                <div class="mb-3">
                    <input class="form-check-input" type="checkbox" id="noti-email" name="noti-email"
                        value="noti-email">
                    <label class="form-check-label" for="noti-email">¿Desea recibir notificaciones por correo
                        electrónico?</label><br>
                    <input class="form-check-input" type="checkbox" id="terms-condi" name="terms-condi"
                        value="acepta" required>
                    <label class="form-check-label" for="terms-condi">¿Acepta los términos y condiciones?</label><br>
                    <div class="invalid-feedback">
                        Este campo es obligatorio.
                    </div>
                </div>
            </fieldset>

        </div>

        <!-- Fila con el botón de enviar -->
        <div class="row col-sm border rounded p-3">
            <input class="btn btn-primary" type="submit" value="Enviar" id="btn-enviar">
        </div>
    </form>

    <!-- script que valida que las dos contraseñas sean iguales.-->
    <script src="js/procesarContrasenia.js"></script>

    <!-- script proviniente de: https://getbootstrap.com/docs/5.0/forms/validation/-->
    <script>
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {
                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                            }

                            form.classList.add('was-validated')
                        }, false)
                    })
            })()
    </script>
</body>

</html>
